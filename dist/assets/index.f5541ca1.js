import{w as Pe,S as Q,i as T,s as W,e as k,t as M,a as y,b,c as j,d as _,l as I,f as X,g,n as z,h as re,j as G,k as se,m as V,r as ce,v as fe,o as $,p as ee,q as te,u as D,x as B,y as ne,z as le,A as oe}from"./vendor.eb195df3.js";const Se=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=t(o);fetch(o.href,s)}};Se();const Z=Pe({}),H=Pe(JSON.parse(localStorage.getItem("projects"))||[]);function pe(l,e,t){const n=l.slice();return n[4]=e[t],n}function ae(l){let e,t,n=l[4].name+"",o,s,c,i;function p(){return l[3](l[4])}return{c(){e=k("li"),t=k("button"),o=M(n),s=y(),b(t,"class","px-6 py-3 bg-sky-800 text-sky-50 rounded-lg")},m(r,u){j(r,e,u),_(e,t),_(t,o),_(e,s),c||(i=I(t,"click",p),c=!0)},p(r,u){l=r,u&1&&n!==(n=l[4].name+"")&&X(o,n)},d(r){r&&g(e),c=!1,i()}}}function we(l){let e,t,n,o,s,c,i,p,r=l[0],u=[];for(let d=0;d<r.length;d+=1)u[d]=ae(pe(l,r,d));return{c(){e=k("div"),t=k("h2"),t.textContent="Projects",n=y(),o=k("button"),o.textContent="+ New Project",s=y(),c=k("ul");for(let d=0;d<u.length;d+=1)u[d].c();b(t,"class","text-xl sm:text-2xl font-bold text-coral"),b(o,"class","px-6 py-3 bg-sky-800 text-sky-50 rounded-lg"),b(e,"class","flex justify-between"),b(c,"class","text-sky-50 space-y-8")},m(d,a){j(d,e,a),_(e,t),_(e,n),_(e,o),j(d,s,a),j(d,c,a);for(let m=0;m<u.length;m+=1)u[m].m(c,null);i||(p=I(o,"click",l[2]),i=!0)},p(d,[a]){if(a&3){r=d[0];let m;for(m=0;m<r.length;m+=1){const N=pe(d,r,m);u[m]?u[m].p(N,a):(u[m]=ae(N),u[m].c(),u[m].m(c,null))}for(;m<u.length;m+=1)u[m].d(1);u.length=r.length}},i:z,o:z,d(d){d&&g(e),d&&g(s),d&&g(c),re(u,d),i=!1,p()}}}function ve(l,e,t){let n;G(l,H,i=>t(0,n=i));const o=se();return[n,o,()=>o("newProject"),i=>o("showProject",{projectId:i.id})]}class Ce extends Q{constructor(e){super();T(this,e,ve,we,W,{})}}function de(l,e,t){const n=l.slice();return n[8]=e[t],n[21]=e,n[22]=t,n}function _e(l){let e,t,n,o,s,c;function i(){l[14].call(t,l[21],l[22])}function p(){return l[16](l[8])}return{c(){e=k("div"),t=k("input"),n=y(),o=k("button"),o.textContent="Remove Step",b(o,"class","px-6 py-3 bg-sky-800 text-sky-50 rounded-lg")},m(r,u){j(r,e,u),_(e,t),V(t,l[8].description),_(e,n),_(e,o),s||(c=[I(t,"input",i),I(t,"input",l[15]),I(o,"click",p)],s=!0)},p(r,u){l=r,u&2&&t.value!==l[8].description&&V(t,l[8].description)},d(r){r&&g(e),s=!1,ce(c)}}}function Ie(l){let e,t,n,o,s,c,i,p,r,u,d,a,m=l[0]==="new"?"Create":"Update",N,U,J,F,A=l[1].steps,w=[];for(let h=0;h<A.length;h+=1)w[h]=_e(de(l,A,h));return{c(){e=k("div"),t=k("button"),t.textContent="Back",n=y(),o=k("input"),s=y(),c=k("input"),i=y();for(let h=0;h<w.length;h+=1)w[h].c();p=y(),r=k("div"),u=k("button"),u.textContent="Add Step",d=y(),a=k("button"),N=M(m),b(t,"class","px-6 py-3 bg-sky-800 text-sky-50 rounded-lg"),b(o,"class","block"),b(c,"class","block"),b(u,"class","px-6 py-3 bg-sky-800 text-sky-50 rounded-lg"),b(a,"class","px-6 py-3 bg-sky-800 disabled:bg-slate-700 text-sky-50 rounded-lg"),a.disabled=U=!l[2]||!l[3](),b(e,"class","space-y-8")},m(h,C){j(h,e,C),_(e,t),_(e,n),_(e,o),V(o,l[1].name),_(e,s),_(e,c),V(c,l[1].link),_(e,i);for(let S=0;S<w.length;S+=1)w[S].m(e,null);_(e,p),_(e,r),_(r,u),_(e,d),_(e,a),_(a,N),J||(F=[I(t,"click",l[9]),I(o,"input",l[10]),I(o,"input",l[11]),I(c,"input",l[12]),I(c,"input",l[13]),I(u,"click",l[17]),I(a,"click",l[7])],J=!0)},p(h,[C]){if(C&2&&o.value!==h[1].name&&V(o,h[1].name),C&2&&c.value!==h[1].link&&V(c,h[1].link),C&70){A=h[1].steps;let S;for(S=0;S<A.length;S+=1){const x=de(h,A,S);w[S]?w[S].p(x,C):(w[S]=_e(x),w[S].c(),w[S].m(e,p))}for(;S<w.length;S+=1)w[S].d(1);w.length=A.length}C&1&&m!==(m=h[0]==="new"?"Create":"Update")&&X(N,m),C&12&&U!==(U=!h[2]||!h[3]())&&(a.disabled=U)},i:z,o:z,d(h){h&&g(e),re(w,h),J=!1,ce(F)}}}function Ne(l,e,t){let n,o,s;G(l,H,P=>t(18,o=P)),G(l,Z,P=>t(19,s=P));let{mode:c}=e;const i=se();let p=!1,r;c==="new"?r={id:fe(),name:"New Project",link:"",steps:[u()],currentStep:0}:r=s;function u(){return{id:fe(),description:""}}function d(){t(1,r.steps=[...r.steps,u()],r),t(2,p=!0)}function a(P){r.steps.length===1?t(1,r.steps[0].description="",r):t(1,r.steps=r.steps.filter(K=>K.id!==P),r),t(2,p=!0)}function m(){N(),n()&&(c==="new"?$(H,o=[...o,r],o):window.confirm(`Updating ${r.name} will reset your step tracking. Update still?`)&&(t(1,r.currentStep=0,r),o.forEach(P=>{P.id===r.id&&(P=r)})),localStorage.setItem("projects",JSON.stringify(o)),c==="new"?i("createProject"):i("updateProject",{project:r}))}function N(){t(1,r.name=r.name.trim(),r),r.steps.forEach((P,K,O)=>O[K].description=P.description.trim())}const U=()=>i("back");function J(){r.name=this.value,t(1,r)}const F=()=>{t(2,p=!0)};function A(){r.link=this.value,t(1,r)}const w=()=>{t(2,p=!0)};function h(P,K){P[K].description=this.value,t(1,r)}const C=()=>{t(2,p=!0)},S=P=>{a(P.id)},x=()=>{d()};return l.$$set=P=>{"mode"in P&&t(0,c=P.mode)},l.$$.update=()=>{l.$$.dirty&2&&t(3,n=function(){return r.name.length>0&&r.steps.every(P=>P.description.length>0)})},[c,r,p,n,i,d,a,m,u,U,J,F,A,w,h,C,S,x]}class Oe extends Q{constructor(e){super();T(this,e,Ne,Ie,W,{mode:0})}}function me(l,e,t){const n=l.slice();return n[9]=e[t],n[11]=t,n}function ke(l){let e,t,n;return{c(){e=k("a"),t=M("Link"),b(e,"class","px-6 py-3 bg-sky-800 text-sky-50 rounded-lg"),b(e,"href",n=l[0].link),b(e,"target","_blank"),b(e,"rel","noreferrer noopener")},m(o,s){j(o,e,s),_(e,t)},p(o,s){s&1&&n!==(n=o[0].link)&&b(e,"href",n)},d(o){o&&g(e)}}}function be(l){let e;return{c(){e=M("\u2705")},m(t,n){j(t,e,n)},d(t){t&&g(e)}}}function he(l){let e,t,n=l[9].description+"",o,s,c=l[0].currentStep>l[11]&&be();return{c(){e=k("li"),c&&c.c(),t=y(),o=M(n),s=y()},m(i,p){j(i,e,p),c&&c.m(e,null),_(e,t),_(e,o),_(e,s)},p(i,p){i[0].currentStep>i[11]?c||(c=be(),c.c(),c.m(e,t)):c&&(c.d(1),c=null),p&1&&n!==(n=i[9].description+"")&&X(o,n)},d(i){i&&g(e),c&&c.d()}}}function Le(l){let e,t=l[0].steps[l[0].currentStep].description+"",n;return{c(){e=k("p"),n=M(t),b(e,"class","text-sky-50")},m(o,s){j(o,e,s),_(e,n)},p(o,s){s&1&&t!==(t=o[0].steps[o[0].currentStep].description+"")&&X(n,t)},d(o){o&&g(e)}}}function Ae(l){let e;return{c(){e=k("p"),e.textContent="Done!",b(e,"class","text-sky-50")},m(t,n){j(t,e,n)},p:z,d(t){t&&g(e)}}}function Ee(l){let e,t,n,o,s,c=l[0].name+"",i,p,r,u,d,a,m,N,U,J,F,A,w,h,C,S,x,P,K,O=l[0].link&&ke(l),R=l[0].steps,E=[];for(let f=0;f<R.length;f+=1)E[f]=he(me(l,R,f));function ie(f,v){return f[0].currentStep>=f[0].steps.length?Ae:Le}let Y=ie(l),q=Y(l);return{c(){e=k("div"),t=k("div"),n=k("button"),n.textContent="Back",o=y(),s=k("h2"),i=M(c),p=y(),r=k("button"),r.textContent="Edit",u=y(),O&&O.c(),d=y(),a=k("button"),a.textContent="Delete",m=y(),N=k("h3"),N.textContent="Steps",U=y(),J=k("ol");for(let f=0;f<E.length;f+=1)E[f].c();F=y(),A=k("h3"),A.textContent="Current Step",w=y(),q.c(),h=y(),C=k("button"),C.textContent="Previous",S=y(),x=k("button"),x.textContent="Done",b(n,"class","px-6 py-3 bg-sky-800 text-sky-50 rounded-lg"),b(s,"class","text-xl sm:text-2xl font-bold text-coral inline-block"),b(r,"class","px-6 py-3 bg-sky-800 text-sky-50 rounded-lg"),b(t,"class","inline-block space-x-6"),b(a,"class","px-6 py-3 bg-sky-800 text-sky-50 rounded-lg"),b(e,"class","flex justify-between"),b(N,"class","text-md sm:text-lg font-bold text-coral"),b(J,"class","list-decimal text-sky-50 ml-4"),b(A,"class","text-md sm:text-lg font-bold text-coral"),b(C,"class","px-6 py-3 bg-sky-800 text-sky-50 rounded-lg"),b(x,"class","px-6 py-3 bg-sky-800 text-sky-50 rounded-lg")},m(f,v){j(f,e,v),_(e,t),_(t,n),_(t,o),_(t,s),_(s,i),_(t,p),_(t,r),_(t,u),O&&O.m(t,null),_(e,d),_(e,a),j(f,m,v),j(f,N,v),j(f,U,v),j(f,J,v);for(let L=0;L<E.length;L+=1)E[L].m(J,null);j(f,F,v),j(f,A,v),j(f,w,v),q.m(f,v),j(f,h,v),j(f,C,v),j(f,S,v),j(f,x,v),P||(K=[I(n,"click",l[5]),I(r,"click",l[6]),I(a,"click",l[7]),I(C,"click",l[2]),I(x,"click",l[3])],P=!0)},p(f,[v]){if(v&1&&c!==(c=f[0].name+"")&&X(i,c),f[0].link?O?O.p(f,v):(O=ke(f),O.c(),O.m(t,null)):O&&(O.d(1),O=null),v&1){R=f[0].steps;let L;for(L=0;L<R.length;L+=1){const ue=me(f,R,L);E[L]?E[L].p(ue,v):(E[L]=he(ue),E[L].c(),E[L].m(J,null))}for(;L<E.length;L+=1)E[L].d(1);E.length=R.length}Y===(Y=ie(f))&&q?q.p(f,v):(q.d(1),q=Y(f),q&&(q.c(),q.m(h.parentNode,h)))},i:z,o:z,d(f){f&&g(e),O&&O.d(),f&&g(m),f&&g(N),f&&g(U),f&&g(J),re(E,f),f&&g(F),f&&g(A),f&&g(w),q.d(f),f&&g(h),f&&g(C),f&&g(S),f&&g(x),P=!1,ce(K)}}}function De(l,e,t){let n;G(l,H,a=>t(8,n=a));let{project:o}=e;const s=se();function c(){n.map(a=>{a.id===o.id&&(t(0,o.currentStep=a.currentStep<=0?0:a.currentStep-1,o),a.currentStep=o.currentStep)}),localStorage.setItem("projects",JSON.stringify(n))}function i(){n.map(a=>{a.id===o.id&&(t(0,o.currentStep=a.currentStep>=a.steps.length?a.steps.length:a.currentStep+1,o),a.currentStep=o.currentStep)}),localStorage.setItem("projects",JSON.stringify(n))}function p(a){window.confirm(`Are you sure you want to delete ${o.name}?`)&&($(H,n=n.filter(m=>m.id!==a),n),localStorage.setItem("projects",JSON.stringify(n)),s("back"))}const r=()=>s("back"),u=()=>s("editProject"),d=()=>p(o.id);return l.$$set=a=>{"project"in a&&t(0,o=a.project)},[o,s,c,i,p,r,u,d]}class Je extends Q{constructor(e){super();T(this,e,De,Ee,W,{project:0})}}function je(l){let e,t;return e=new Ce({}),e.$on("newProject",l[5]),e.$on("showProject",l[4]),{c(){ee(e.$$.fragment)},m(n,o){te(e,n,o),t=!0},p:z,i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function ge(l){let e,t;return e=new Oe({props:{mode:l[0]==="addProject"?"new":"edit"}}),e.$on("createProject",l[2]),e.$on("updateProject",l[3]),e.$on("back",l[6]),{c(){ee(e.$$.fragment)},m(n,o){te(e,n,o),t=!0},p(n,o){const s={};o&1&&(s.mode=n[0]==="addProject"?"new":"edit"),e.$set(s)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function ye(l){let e,t;return e=new Je({props:{project:l[1]}}),e.$on("back",l[7]),e.$on("editProject",l[8]),{c(){ee(e.$$.fragment)},m(n,o){te(e,n,o),t=!0},p(n,o){const s={};o&2&&(s.project=n[1]),e.$set(s)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function xe(l){let e,t,n,o,s,c,i=l[0]==="projects"&&je(l),p=(l[0]==="addProject"||l[0]==="editProject")&&ge(l),r=l[0]==="showProject"&&ye(l);return{c(){e=k("main"),t=k("h1"),t.textContent="Stitchy",n=y(),i&&i.c(),o=y(),p&&p.c(),s=y(),r&&r.c(),b(t,"class","text-3xl sm:text-4xl font-bold text-coral"),b(e,"class","container mx-auto px-10 py-16 sm:py-20 md:py-24 lg:py-36 space-y-8 ")},m(u,d){j(u,e,d),_(e,t),_(e,n),i&&i.m(e,null),_(e,o),p&&p.m(e,null),_(e,s),r&&r.m(e,null),c=!0},p(u,[d]){u[0]==="projects"?i?(i.p(u,d),d&1&&D(i,1)):(i=je(u),i.c(),D(i,1),i.m(e,o)):i&&(le(),B(i,1,1,()=>{i=null}),oe()),u[0]==="addProject"||u[0]==="editProject"?p?(p.p(u,d),d&1&&D(p,1)):(p=ge(u),p.c(),D(p,1),p.m(e,s)):p&&(le(),B(p,1,1,()=>{p=null}),oe()),u[0]==="showProject"?r?(r.p(u,d),d&1&&D(r,1)):(r=ye(u),r.c(),D(r,1),r.m(e,null)):r&&(le(),B(r,1,1,()=>{r=null}),oe())},i(u){c||(D(i),D(p),D(r),c=!0)},o(u){B(i),B(p),B(r),c=!1},d(u){u&&g(e),i&&i.d(),p&&p.d(),r&&r.d()}}}function Ue(l,e,t){let n,o;G(l,H,m=>t(9,n=m)),G(l,Z,m=>t(1,o=m));let s="projects";function c(){t(0,s="projects")}function i(m){$(Z,o=m.detail.project,o),t(0,s="showProject")}function p(m){$(Z,o=n.filter(N=>N.id===m.detail.projectId)[0],o),t(0,s="showProject")}return[s,o,c,i,p,()=>t(0,s="addProject"),()=>t(0,s=s==="addProject"?"projects":"showProject"),()=>t(0,s="projects"),()=>t(0,s="editProject")]}class qe extends Q{constructor(e){super();T(this,e,Ue,xe,W,{})}}function Be(l){let e,t;return e=new qe({}),{c(){ee(e.$$.fragment)},m(n,o){te(e,n,o),t=!0},p:z,i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function ze(l){return document.body.classList.add("bg-midnight"),[]}class Fe extends Q{constructor(e){super();T(this,e,ze,Be,W,{})}}new Fe({target:document.getElementById("app")});
