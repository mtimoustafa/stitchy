import{w as ye,S as M,i as V,s as G,e as b,t as J,a as P,b as h,c as g,d as k,l as O,f as H,g as y,n as E,h as oe,j as F,k as re,m as T,r as Pe,v as ue,o as W,p as X,q as Y,u as N,x as A,y as Z,z as ne,A as le}from"./vendor.eb195df3.js";const Se=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))t(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&t(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerpolicy&&(r.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?r.credentials="include":l.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(l){if(l.ep)return;l.ep=!0;const r=n(l);fetch(l.href,r)}};Se();const R=ye({}),U=ye(JSON.parse(localStorage.getItem("projects"))||[]);function fe(o,e,n){const t=o.slice();return t[4]=e[n],t}function pe(o){let e,n,t=o[4].name+"",l,r,c,s;function a(){return o[3](o[4])}return{c(){e=b("li"),n=b("button"),l=J(t),r=P(),h(n,"class","px-6 py-3 bg-sky-800 text-sky-50 rounded-lg")},m(u,f){g(u,e,f),k(e,n),k(n,l),k(e,r),c||(s=O(n,"click",a),c=!0)},p(u,f){o=u,f&1&&t!==(t=o[4].name+"")&&H(l,t)},d(u){u&&y(e),c=!1,s()}}}function we(o){let e,n,t,l,r,c,s,a,u=o[0],f=[];for(let d=0;d<u.length;d+=1)f[d]=pe(fe(o,u,d));return{c(){e=b("div"),n=b("h2"),n.textContent="Projects",t=P(),l=b("button"),l.textContent="+ New Project",r=P(),c=b("ul");for(let d=0;d<f.length;d+=1)f[d].c();h(n,"class","text-xl sm:text-2xl font-bold text-coral"),h(l,"class","px-6 py-3 bg-sky-800 text-sky-50 rounded-lg"),h(e,"class","flex justify-between"),h(c,"class","text-sky-50 space-y-8")},m(d,m){g(d,e,m),k(e,n),k(e,t),k(e,l),g(d,r,m),g(d,c,m);for(let _=0;_<f.length;_+=1)f[_].m(c,null);s||(a=O(l,"click",o[2]),s=!0)},p(d,[m]){if(m&3){u=d[0];let _;for(_=0;_<u.length;_+=1){const v=fe(d,u,_);f[_]?f[_].p(v,m):(f[_]=pe(v),f[_].c(),f[_].m(c,null))}for(;_<f.length;_+=1)f[_].d(1);f.length=u.length}},i:E,o:E,d(d){d&&y(e),d&&y(r),d&&y(c),oe(f,d),s=!1,a()}}}function ve(o,e,n){let t;F(o,U,s=>n(0,t=s));const l=re();return[t,l,()=>l("newProject"),s=>l("showProject",{projectId:s.id})]}class Ce extends M{constructor(e){super();V(this,e,ve,we,G,{})}}function ae(o,e,n){const t=o.slice();return t[13]=e[n],t[14]=e,t[15]=n,t}function de(o){let e,n,t;function l(){o[7].call(e,o[14],o[15])}return{c(){e=b("input"),h(e,"class","block")},m(r,c){g(r,e,c),T(e,o[13].description),n||(t=O(e,"input",l),n=!0)},p(r,c){o=r,c&2&&e.value!==o[13].description&&T(e,o[13].description)},d(r){r&&y(e),n=!1,t()}}}function $e(o){let e,n,t,l,r,c,s,a,u,f=o[0]==="new"?"Create":"Update",d,m,_,v=o[1].steps,S=[];for(let p=0;p<v.length;p+=1)S[p]=de(ae(o,v,p));return{c(){e=b("div"),n=b("button"),n.textContent="Back",t=P(),l=b("input"),r=P();for(let p=0;p<S.length;p+=1)S[p].c();c=P(),s=b("button"),s.textContent="Add Step",a=P(),u=b("button"),d=J(f),h(n,"class","px-6 py-3 bg-sky-800 text-sky-50 rounded-lg"),h(l,"class","block"),h(s,"class","px-6 py-3 bg-sky-800 text-sky-50 rounded-lg"),h(u,"class","px-6 py-3 bg-sky-800 text-sky-50 rounded-lg"),h(e,"class","space-y-8")},m(p,$){g(p,e,$),k(e,n),k(e,t),k(e,l),T(l,o[1].name),k(e,r);for(let j=0;j<S.length;j+=1)S[j].m(e,null);k(e,c),k(e,s),k(e,a),k(e,u),k(u,d),m||(_=[O(n,"click",o[5]),O(l,"input",o[6]),O(s,"click",o[8]),O(u,"click",o[4])],m=!0)},p(p,[$]){if($&2&&l.value!==p[1].name&&T(l,p[1].name),$&2){v=p[1].steps;let j;for(j=0;j<v.length;j+=1){const D=ae(p,v,j);S[j]?S[j].p(D,$):(S[j]=de(D),S[j].c(),S[j].m(e,c))}for(;j<S.length;j+=1)S[j].d(1);S.length=v.length}$&1&&f!==(f=p[0]==="new"?"Create":"Update")&&H(d,f)},i:E,o:E,d(p){p&&y(e),oe(S,p),m=!1,Pe(_)}}}function xe(o,e,n){let t,l;F(o,U,p=>n(9,t=p)),F(o,R,p=>n(10,l=p));let{mode:r}=e;const c=re();let s;r==="new"?(s={id:ue(),name:"New Project",link:"",steps:[],rowCount:0,currentStep:0},a()):s=l,console.log(s);function a(){n(1,s.steps=[...s.steps,{id:ue(),description:""}],s)}function u(){d(),f()&&(r==="new"?W(U,t=[...t,s],t):t.forEach(p=>{p.id===s.id&&(p=s)}),localStorage.setItem("projects",JSON.stringify(t)),r==="new"?c("createProject"):c("updateProject",{project:s}))}function f(){return console.log(s.name.length>0,s.steps.every(p=>p.description.length>0)),s.name.length>0&&s.steps.every(p=>p.description.length>0)}function d(){n(1,s.name=s.name.trim(),s),s.steps.forEach((p,$,j)=>j[$].description=p.description.trim())}const m=()=>c("back");function _(){s.name=this.value,n(1,s)}function v(p,$){p[$].description=this.value,n(1,s)}const S=()=>{a(),n(1,s)};return o.$$set=p=>{"mode"in p&&n(0,r=p.mode)},[r,s,c,a,u,m,_,v,S]}class Ie extends M{constructor(e){super();V(this,e,xe,$e,G,{mode:0})}}function me(o,e,n){const t=o.slice();return t[9]=e[n],t[11]=n,t}function _e(o){let e,n,t;return{c(){e=b("a"),n=J("Link"),h(e,"class","px-6 py-3 bg-sky-800 text-sky-50 rounded-lg"),h(e,"href",t=o[0].link),h(e,"target","_blank"),h(e,"rel","noreferrer noopener")},m(l,r){g(l,e,r),k(e,n)},p(l,r){r&1&&t!==(t=l[0].link)&&h(e,"href",t)},d(l){l&&y(e)}}}function ke(o){let e;return{c(){e=J("\u2705")},m(n,t){g(n,e,t)},d(n){n&&y(e)}}}function he(o){let e,n,t=o[9].description+"",l,r,c=o[0].currentStep>o[11]&&ke();return{c(){e=b("li"),c&&c.c(),n=P(),l=J(t),r=P()},m(s,a){g(s,e,a),c&&c.m(e,null),k(e,n),k(e,l),k(e,r)},p(s,a){s[0].currentStep>s[11]?c||(c=ke(),c.c(),c.m(e,n)):c&&(c.d(1),c=null),a&1&&t!==(t=s[9].description+"")&&H(l,t)},d(s){s&&y(e),c&&c.d()}}}function Ne(o){let e,n=o[0].steps[o[0].currentStep].description+"",t;return{c(){e=b("p"),t=J(n),h(e,"class","text-sky-50")},m(l,r){g(l,e,r),k(e,t)},p(l,r){r&1&&n!==(n=l[0].steps[l[0].currentStep].description+"")&&H(t,n)},d(l){l&&y(e)}}}function Oe(o){let e;return{c(){e=b("p"),e.textContent="Done!",h(e,"class","text-sky-50")},m(n,t){g(n,e,t)},p:E,d(n){n&&y(e)}}}function Le(o){let e,n,t,l,r,c=o[0].name+"",s,a,u,f,d,m,_,v,S,p,$,j,D,K,q,ee,B,te,se,x=o[0].link&&_e(o),z=o[0].steps,I=[];for(let i=0;i<z.length;i+=1)I[i]=he(me(o,z,i));function ce(i,w){return i[0].currentStep>=i[0].steps.length?Oe:Ne}let Q=ce(o),L=Q(o);return{c(){e=b("div"),n=b("div"),t=b("button"),t.textContent="Back",l=P(),r=b("h2"),s=J(c),a=P(),u=b("button"),u.textContent="Edit",f=P(),x&&x.c(),d=P(),m=b("button"),m.textContent="Delete",_=P(),v=b("h3"),v.textContent="Steps",S=P(),p=b("ol");for(let i=0;i<I.length;i+=1)I[i].c();$=P(),j=b("h3"),j.textContent="Current Step",D=P(),L.c(),K=P(),q=b("button"),q.textContent="Previous",ee=P(),B=b("button"),B.textContent="Done",h(t,"class","px-6 py-3 bg-sky-800 text-sky-50 rounded-lg"),h(r,"class","text-xl sm:text-2xl font-bold text-coral inline-block"),h(u,"class","px-6 py-3 bg-sky-800 text-sky-50 rounded-lg"),h(n,"class","inline-block space-x-6"),h(m,"class","px-6 py-3 bg-sky-800 text-sky-50 rounded-lg"),h(e,"class","flex justify-between"),h(v,"class","text-md sm:text-lg font-bold text-coral"),h(p,"class","list-decimal text-sky-50 ml-4"),h(j,"class","text-md sm:text-lg font-bold text-coral"),h(q,"class","px-6 py-3 bg-sky-800 text-sky-50 rounded-lg"),h(B,"class","px-6 py-3 bg-sky-800 text-sky-50 rounded-lg")},m(i,w){g(i,e,w),k(e,n),k(n,t),k(n,l),k(n,r),k(r,s),k(n,a),k(n,u),k(n,f),x&&x.m(n,null),k(e,d),k(e,m),g(i,_,w),g(i,v,w),g(i,S,w),g(i,p,w);for(let C=0;C<I.length;C+=1)I[C].m(p,null);g(i,$,w),g(i,j,w),g(i,D,w),L.m(i,w),g(i,K,w),g(i,q,w),g(i,ee,w),g(i,B,w),te||(se=[O(t,"click",o[5]),O(u,"click",o[6]),O(m,"click",o[7]),O(q,"click",o[2]),O(B,"click",o[3])],te=!0)},p(i,[w]){if(w&1&&c!==(c=i[0].name+"")&&H(s,c),i[0].link?x?x.p(i,w):(x=_e(i),x.c(),x.m(n,null)):x&&(x.d(1),x=null),w&1){z=i[0].steps;let C;for(C=0;C<z.length;C+=1){const ie=me(i,z,C);I[C]?I[C].p(ie,w):(I[C]=he(ie),I[C].c(),I[C].m(p,null))}for(;C<I.length;C+=1)I[C].d(1);I.length=z.length}Q===(Q=ce(i))&&L?L.p(i,w):(L.d(1),L=Q(i),L&&(L.c(),L.m(K.parentNode,K)))},i:E,o:E,d(i){i&&y(e),x&&x.d(),i&&y(_),i&&y(v),i&&y(S),i&&y(p),oe(I,i),i&&y($),i&&y(j),i&&y(D),L.d(i),i&&y(K),i&&y(q),i&&y(ee),i&&y(B),te=!1,Pe(se)}}}function Ae(o,e,n){let t;F(o,U,m=>n(8,t=m));let{project:l}=e;const r=re();function c(){t.map(m=>{m.id===l.id&&(n(0,l.currentStep=m.currentStep<=0?0:m.currentStep-1,l),m.currentStep=l.currentStep)}),localStorage.setItem("projects",JSON.stringify(t))}function s(){t.map(m=>{m.id===l.id&&(n(0,l.currentStep=m.currentStep>=m.steps.length?m.steps.length:m.currentStep+1,l),m.currentStep=l.currentStep)}),localStorage.setItem("projects",JSON.stringify(t))}function a(m){window.confirm(`Are you sure you want to delete ${l.name}?`)&&(W(U,t=t.filter(_=>_.id!==m),t),localStorage.setItem("projects",JSON.stringify(t)),r("back"))}const u=()=>r("back"),f=()=>r("editProject"),d=()=>a(l.id);return o.$$set=m=>{"project"in m&&n(0,l=m.project)},[l,r,c,s,a,u,f,d]}class Ee extends M{constructor(e){super();V(this,e,Ae,Le,G,{project:0})}}function be(o){let e,n;return e=new Ce({}),e.$on("newProject",o[5]),e.$on("showProject",o[4]),{c(){X(e.$$.fragment)},m(t,l){Y(e,t,l),n=!0},p:E,i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){A(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function je(o){let e,n;return e=new Ie({props:{mode:o[0]==="addProject"?"new":"edit"}}),e.$on("createProject",o[2]),e.$on("updateProject",o[3]),e.$on("back",o[6]),{c(){X(e.$$.fragment)},m(t,l){Y(e,t,l),n=!0},p(t,l){const r={};l&1&&(r.mode=t[0]==="addProject"?"new":"edit"),e.$set(r)},i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){A(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function ge(o){let e,n;return e=new Ee({props:{project:o[1]}}),e.$on("back",o[7]),e.$on("editProject",o[8]),{c(){X(e.$$.fragment)},m(t,l){Y(e,t,l),n=!0},p(t,l){const r={};l&2&&(r.project=t[1]),e.$set(r)},i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){A(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function Je(o){let e,n,t,l,r,c,s=o[0]==="projects"&&be(o),a=(o[0]==="addProject"||o[0]==="editProject")&&je(o),u=o[0]==="showProject"&&ge(o);return{c(){e=b("main"),n=b("h1"),n.textContent="Stitchy",t=P(),s&&s.c(),l=P(),a&&a.c(),r=P(),u&&u.c(),h(n,"class","text-3xl sm:text-4xl font-bold text-coral"),h(e,"class","container mx-auto px-10 py-16 sm:py-20 md:py-24 lg:py-36 space-y-8 ")},m(f,d){g(f,e,d),k(e,n),k(e,t),s&&s.m(e,null),k(e,l),a&&a.m(e,null),k(e,r),u&&u.m(e,null),c=!0},p(f,[d]){f[0]==="projects"?s?(s.p(f,d),d&1&&N(s,1)):(s=be(f),s.c(),N(s,1),s.m(e,l)):s&&(ne(),A(s,1,1,()=>{s=null}),le()),f[0]==="addProject"||f[0]==="editProject"?a?(a.p(f,d),d&1&&N(a,1)):(a=je(f),a.c(),N(a,1),a.m(e,r)):a&&(ne(),A(a,1,1,()=>{a=null}),le()),f[0]==="showProject"?u?(u.p(f,d),d&1&&N(u,1)):(u=ge(f),u.c(),N(u,1),u.m(e,null)):u&&(ne(),A(u,1,1,()=>{u=null}),le())},i(f){c||(N(s),N(a),N(u),c=!0)},o(f){A(s),A(a),A(u),c=!1},d(f){f&&y(e),s&&s.d(),a&&a.d(),u&&u.d()}}}function De(o,e,n){let t,l;F(o,U,_=>n(9,t=_)),F(o,R,_=>n(1,l=_));let r="projects";function c(){n(0,r="projects")}function s(_){W(R,l=_.detail.project,l),n(0,r="showProject")}function a(_){W(R,l=t.filter(v=>v.id===_.detail.projectId)[0],l),n(0,r="showProject")}return[r,l,c,s,a,()=>n(0,r="addProject"),()=>n(0,r=r==="addProject"?"projects":"showProject"),()=>n(0,r="projects"),()=>n(0,r="editProject")]}class qe extends M{constructor(e){super();V(this,e,De,Je,G,{})}}function Be(o){let e,n;return e=new qe({}),{c(){X(e.$$.fragment)},m(t,l){Y(e,t,l),n=!0},p:E,i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){A(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function ze(o){return document.body.classList.add("bg-midnight"),[]}class Fe extends M{constructor(e){super();V(this,e,ze,Be,G,{})}}new Fe({target:document.getElementById("app")});
